import{_ as w,r as d,o as V,c as x,b as M,a as i,w as n,d as h,t as f}from"./app-c14a8d33.js";const y={name:"coordinatePick",data(){return{currentUCS:0,coordinate:"",longitude:"",latitude:"",result:{wgs:"",gcj:"",bd:""},x_PI:3.141592653589793*3e3/180,PI:3.141592653589793,a:6378245,ee:.006693421622965943}},methods:{wholeCoordinate(){const e=this.coordinate.split(",");this.longitude=e[0],this.latitude=e[1]},singleCoordinate(){this.coordinate=this.longitude+","+this.latitude},transform(){if(this.currentUCS===0){const e=this.wgs84toGcj02(this.longitude,this.latitude);this.result.gcj=e[0]+","+e[1];const t=this.wgs84toBd09(this.longitude,this.latitude);this.result.bd=t[0]+","+t[1],this.result.wgs=this.coordinate;return}if(this.currentUCS===1){const e=this.gcj02toBd09(this.longitude,this.latitude);this.result.bd=e[0]+","+e[1];const t=this.gcj02toWgs84(this.longitude,this.latitude);this.result.wgs=t[0]+","+t[1],this.result.gcj=this.coordinate;return}if(this.currentUCS===2){const e=this.bd09toGcj02(this.longitude,this.latitude);this.result.gcj=e[0]+","+e[1];const t=this.bd09toWgs84(this.longitude,this.latitude);this.result.wgs=t[0]+","+t[1],this.result.bd=this.coordinate}},gcj02toBd09(e,t){const s=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*this.x_PI),a=Math.atan2(t,e)+3e-6*Math.cos(e*this.x_PI),o=s*Math.cos(a)+.0065,r=s*Math.sin(a)+.006;return[o,r]},gcj02toWgs84(e,t){if(this.outOfChina(e,t))return[e,t];{let a=this.transFormLat(e-105,t-35),o=this.transFormLng(e-105,t-35);const r=t/180*this.PI;let l=Math.sin(r);l=1-this.ee*l*l;var s=Math.sqrt(l);a=a*180/(this.a*(1-this.ee)/(l*s)*this.PI),o=o*180/(this.a/s*Math.cos(r)*this.PI);const _=t*1+a,m=e*1+o,g=e*2-m,p=t*2-_;return[g,p]}},bd09toGcj02(e,t){const s=52.35987755982988,a=e-.0065,o=t-.006,r=Math.sqrt(a*a+o*o)-2e-5*Math.sin(o*s),l=Math.atan2(o,a)-3e-6*Math.cos(a*s);return[r*Math.cos(l),r*Math.sin(l)]},bd09toWgs84(e,t){const s=this.bd09toGcj02(e,t);return this.gcj02toWgs84(s[0],s[1])},wgs84toBd09(e,t){const s=this.wgs84toGcj02(e,t);return this.gcj02toBd09(s[0],s[1])},wgs84toGcj02(e,t){if(this.outOfChina(e,t))return[e,t];{let s=this.transFormLat(e-105,t-35),a=this.transFormLng(e-105,t-35);const o=t/180*this.PI;let r=Math.sin(o);r=1-this.ee*r*r;const l=Math.sqrt(r);s=s*180/(this.a*(1-this.ee)/(r*l)*this.PI),a=a*180/(this.a/l*Math.cos(o)*this.PI);const _=t*1+s;return[e*1+a,_]}},outOfChina(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1},transFormLat(e,t){let s=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return s+=(20*Math.sin(6*e*this.PI)+20*Math.sin(2*e*this.PI))*2/3,s+=(20*Math.sin(t*this.PI)+40*Math.sin(t/3*this.PI))*2/3,s+=(160*Math.sin(t/12*this.PI)+320*Math.sin(t*this.PI/30))*2/3,s},transFormLng(e,t){let s=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return s+=(20*Math.sin(6*e*this.PI)+20*Math.sin(2*e*this.PI))*2/3,s+=(20*Math.sin(e*this.PI)+40*Math.sin(e/3*this.PI))*2/3,s+=(150*Math.sin(e/12*this.PI)+300*Math.sin(e/30*this.PI))*2/3,s}}},G={class:"coordinatePick"},B={style:{"margin-bottom":"25px"}},S={style:{"text-align":"center"}};function U(e,t,s,a,o,r){const l=d("el-radio"),_=d("el-radio-group"),m=d("el-form-item"),g=d("el-input"),p=d("el-col"),P=d("el-row"),I=d("el-button"),j=d("el-form"),c=d("el-descriptions-item"),b=d("el-descriptions"),C=d("el-divider");return V(),x("div",G,[M("div",B,[i(j,{ref:"form","label-width":"120px"},{default:n(()=>[i(m,{label:"当前坐标系："},{default:n(()=>[i(_,{modelValue:o.currentUCS,"onUpdate:modelValue":t[0]||(t[0]=u=>o.currentUCS=u)},{default:n(()=>[i(l,{label:0,border:!0,size:"large"},{default:n(()=>[h("谷歌坐标系")]),_:1}),i(l,{label:1,border:!0,size:"large"},{default:n(()=>[h("火星坐标系")]),_:1}),i(l,{label:2,border:!0,size:"large"},{default:n(()=>[h("百度坐标系")]),_:1})]),_:1},8,["modelValue"])]),_:1}),i(m,{label:"输入坐标："},{default:n(()=>[i(P,{gutter:20},{default:n(()=>[i(p,{span:12},{default:n(()=>[i(g,{modelValue:o.coordinate,"onUpdate:modelValue":t[1]||(t[1]=u=>o.coordinate=u),placeholder:"116.410329,39.903869",size:"large",onKeyup:r.wholeCoordinate},null,8,["modelValue","onKeyup"])]),_:1}),i(p,{span:6},{default:n(()=>[i(g,{modelValue:o.longitude,"onUpdate:modelValue":t[2]||(t[2]=u=>o.longitude=u),placeholder:"例如：39.903869",size:"large",onKeyup:r.singleCoordinate},null,8,["modelValue","onKeyup"])]),_:1}),i(p,{span:6},{default:n(()=>[i(g,{modelValue:o.latitude,"onUpdate:modelValue":t[3]||(t[3]=u=>o.latitude=u),placeholder:"例如：116.410329",size:"large",onKeyup:r.singleCoordinate},null,8,["modelValue","onKeyup"])]),_:1})]),_:1})]),_:1}),M("div",S,[i(I,{type:"primary",size:"medium",onClick:r.transform},{default:n(()=>[h("立 即 转 化")]),_:1},8,["onClick"])])]),_:1},512)]),i(b,{title:"转化结果：",column:1,border:!0},{default:n(()=>[i(c,{label:"WGS84坐标系"},{default:n(()=>[h(f(o.result.wgs),1)]),_:1}),i(c,{label:"GCJ02坐标系"},{default:n(()=>[h(f(o.result.gcj),1)]),_:1}),i(c,{label:"BD09坐标系"},{default:n(()=>[h(f(o.result.bd),1)]),_:1})]),_:1}),i(C),i(b,{title:"坐标系解释：",column:1,border:!0},{default:n(()=>[i(c,{label:"WGS84坐标系"},{default:n(()=>[h("地球坐标系，国际通用坐标系")]),_:1}),i(c,{label:"GCJ02坐标系"},{default:n(()=>[h("火星坐标系，WGS84坐标系加密后的坐标系；高德、QQ地图")]),_:1}),i(c,{label:"BD09坐标系"},{default:n(()=>[h("百度坐标系，GCJ02坐标系加密后的坐标系")]),_:1})]),_:1})])}const v=w(y,[["render",U],["__file","coordinateTrans.vue"]]);export{v as default};
