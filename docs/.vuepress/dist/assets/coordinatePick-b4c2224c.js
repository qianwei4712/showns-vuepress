import{k as b,l as _,_ as k,r as y,o as P,c as x,b as m,a as S,p as j,i as E}from"./app-7e2007b0.js";var I={exports:{}};(function(l,h){(function(A,v){l.exports=v()})(b,function(){function A(o){var s=[];return o.AMapUI&&s.push(v(o.AMapUI)),o.Loca&&s.push(g(o.Loca)),Promise.all(s)}function v(o){return new Promise(function(s,i){var t=[];if(o.plugins)for(var a=0;a<o.plugins.length;a+=1)e.AMapUI.plugins.indexOf(o.plugins[a])==-1&&t.push(o.plugins[a]);if(u.AMapUI===n.failed)i("前次请求 AMapUI 失败");else if(u.AMapUI===n.notload){u.AMapUI=n.loading,e.AMapUI.version=o.version||e.AMapUI.version,a=e.AMapUI.version;var c=document.body||document.head,d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/ui/"+a+"/main.js",d.onerror=function(p){u.AMapUI=n.failed,i("请求 AMapUI 失败")},d.onload=function(){if(u.AMapUI=n.loaded,t.length)window.AMapUI.loadUI(t,function(){for(var p=0,f=t.length;p<f;p++){var M=t[p].split("/").slice(-1)[0];window.AMapUI[M]=arguments[p]}for(s();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()});else for(s();r.AMapUI.length;)r.AMapUI.splice(0,1)[0]()},c.appendChild(d)}else u.AMapUI===n.loaded?o.version&&o.version!==e.AMapUI.version?i("不允许多个版本 AMapUI 混用"):t.length?window.AMapUI.loadUI(t,function(){for(var p=0,f=t.length;p<f;p++){var M=t[p].split("/").slice(-1)[0];window.AMapUI[M]=arguments[p]}s()}):s():o.version&&o.version!==e.AMapUI.version?i("不允许多个版本 AMapUI 混用"):r.AMapUI.push(function(p){p?i(p):t.length?window.AMapUI.loadUI(t,function(){for(var f=0,M=t.length;f<M;f++){var U=t[f].split("/").slice(-1)[0];window.AMapUI[U]=arguments[f]}s()}):s()})})}function g(o){return new Promise(function(s,i){if(u.Loca===n.failed)i("前次请求 Loca 失败");else if(u.Loca===n.notload){u.Loca=n.loading,e.Loca.version=o.version||e.Loca.version;var t=e.Loca.version,a=e.AMap.version.startsWith("2"),c=t.startsWith("2");if(a&&!c||!a&&c)i("JSAPI 与 Loca 版本不对应！！");else{a=e.key,c=document.body||document.head;var d=document.createElement("script");d.type="text/javascript",d.src="https://webapi.amap.com/loca?v="+t+"&key="+a,d.onerror=function(p){u.Loca=n.failed,i("请求 AMapUI 失败")},d.onload=function(){for(u.Loca=n.loaded,s();r.Loca.length;)r.Loca.splice(0,1)[0]()},c.appendChild(d)}}else u.Loca===n.loaded?o.version&&o.version!==e.Loca.version?i("不允许多个版本 Loca 混用"):s():o.version&&o.version!==e.Loca.version?i("不允许多个版本 Loca 混用"):r.Loca.push(function(p){p?i(p):i()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var n;(function(o){o.notload="notload",o.loading="loading",o.loaded="loaded",o.failed="failed"})(n||(n={}));var e={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]},w=[],L=function(o){typeof o=="function"&&(u.AMap===n.loaded?o(window.AMap):w.push(o))};return{load:function(o){return new Promise(function(s,i){if(u.AMap==n.failed)i("");else if(u.AMap==n.notload){var t=o.key,a=o.version,c=o.plugins;t?(window.AMap&&location.host!=="lbs.amap.com"&&i("禁止多种API加载方式混用"),e.key=t,e.AMap.version=a||e.AMap.version,e.AMap.plugins=c||e.AMap.plugins,u.AMap=n.loading,a=document.body||document.head,window.___onAPILoaded=function(p){if(delete window.___onAPILoaded,p)u.AMap=n.failed,i(p);else for(u.AMap=n.loaded,A(o).then(function(){s(window.AMap)}).catch(i);w.length;)w.splice(0,1)[0]()},c=document.createElement("script"),c.type="text/javascript",c.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+e.AMap.version+"&key="+t+"&plugin="+e.AMap.plugins.join(","),c.onerror=function(p){u.AMap=n.failed,i(p)},a.appendChild(c)):i("请填写key")}else if(u.AMap==n.loaded)if(o.key&&o.key!==e.key)i("多个不一致的 key");else if(o.version&&o.version!==e.AMap.version)i("不允许多个版本 JSAPI 混用");else{if(t=[],o.plugins)for(a=0;a<o.plugins.length;a+=1)e.AMap.plugins.indexOf(o.plugins[a])==-1&&t.push(o.plugins[a]);t.length?window.AMap.plugin(t,function(){A(o).then(function(){s(window.AMap)}).catch(i)}):A(o).then(function(){s(window.AMap)}).catch(i)}else if(o.key&&o.key!==e.key)i("多个不一致的 key");else if(o.version&&o.version!==e.AMap.version)i("不允许多个版本 JSAPI 混用");else{var d=[];if(o.plugins)for(a=0;a<o.plugins.length;a+=1)e.AMap.plugins.indexOf(o.plugins[a])==-1&&d.push(o.plugins[a]);L(function(){d.length?window.AMap.plugin(d,function(){A(o).then(function(){s(window.AMap)}).catch(i)}):A(o).then(function(){s(window.AMap)}).catch(i)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,e={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},u={AMap:n.notload,AMapUI:n.notload,Loca:n.notload},r={AMap:[],AMapUI:[],Loca:[]}}}})})(I);var C=I.exports;const V=_(C);const B={name:"coordinatePick",data(){return{map:null,viewPoint:"",point:{clickLng:"",clickLat:""}}},created(){this.initMap()},methods:{clickMap(l){this.point.clickLng=l.lnglat.getLng(),this.point.clickLat=l.lnglat.getLat(),this.viewPoint=this.point.clickLng+","+this.point.clickLat,this.map.clearMap(),this.addPointer()},addPointer(){let l=this;l.point.clickLng!=null&&l.point.clickLng!==""&&(this.marker=new AMap.Marker({position:[l.point.clickLng,l.point.clickLat]}),this.marker.setMap(this.map))},initMap(){V.load({key:"e5435f3ecbdd089317a9cf5781d29198",version:"2.0",plugins:["AMap.PlaceSearch","AMap.AutoComplete"]}).then(l=>{this.map=new l.Map("container",{zoom:11}),this.map.on("click",this.clickMap)}).catch(l=>{console.log(l)})}}},J=l=>(j("data-v-92a74503"),l=l(),E(),l),O={class:"position-coordinate"},N=J(()=>m("div",{id:"container"},null,-1));function W(l,h,A,v,g,n){const e=y("el-input");return P(),x("div",null,[m("div",O,[S(e,{style:{"margin-top":"15px",width:"300px",color:"black"},modelValue:g.viewPoint,"onUpdate:modelValue":h[0]||(h[0]=u=>g.viewPoint=u),readonly:""},null,8,["modelValue"])]),N])}const q=k(B,[["render",W],["__scopeId","data-v-92a74503"],["__file","coordinatePick.vue"]]);export{q as default};
